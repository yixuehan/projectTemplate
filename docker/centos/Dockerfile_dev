FROM w505703394/centos:base

COPY boost_install /opt/boost

COPY mysql_install /opt/mysql

COPY scons_install /opt/scons

COPY json_install /opt/json

RUN ccache --max-size=10G >/dev/null

ENV PATH=/opt/rh/devtoolset-7/root/bin:/opt/scons/bin:$PATH \
    CPLUS_INCLUDE_PATH=${CPLUS_INCLUDE_PATH}:/opt/boost/include:/opt/mysql/include:/opt/json/include \
    LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/boost/lib:/opt/mysql/lib \
    LIBRARY_PATH=$LD_LIBRARY_PATH \
    CCACHE_DIR=/tmp/ccache \
    CCACHE_SIZE=10G \
    CCACHE_UMASK=0


